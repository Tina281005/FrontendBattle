<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DigitalCraft - Our Work</title>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rellax/1.12.1/rellax.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" xintegrity="sha512-Fo3rlroq8y6y6m6g2Wp0d6U/XwV2+G5C8f/y8J3L5C9z5E1T7y8K4w4W2Xj6qC2Z5Z5q5z5q5z5q5z5q==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* CSS Variables for Color Scheme (from index.html and original portfolio.html) */
        :root {
            --bg-dark-primary: #0a0a0a;
            --bg-dark-secondary: #1a1a1a; /* Using a darker shade consistent with index.html */
            --bg-gradient-start: #111111; /* From index.html */
            --bg-gradient-end: #0a0a0a;

            --accent-coral: #ff6b6b; /* Vibrant Red/Pink */
            --accent-coral-rgb: 255, 107, 107;

            --accent-teal: #4ecdc4;
            --accent-teal-rgb: 78, 205, 196;

            --accent-purple: #7b68ee; /* From original portfolio, can be used if desired */
            --accent-purple-rgb: 123, 104, 238;

            --accent-neon-blue: #00ffff; /* From original portfolio, can be used if desired */
            --accent-neon-blue-rgb: 0, 255, 255;

            --accent-neon-pink: #e040fb; /* From original portfolio, can be used if desired */
            --accent-neon-pink-rgb: 224, 64, 251;

            --text-light: #ffffff;
            --text-muted: #cccccc;
        }

        /* General Resets and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: var(--bg-dark-primary);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden; /* Prevent horizontal scroll bar from showing naturally */
            transition: background-color 0.5s ease;
        }

        /* Light Mode Styles (consistent with index.html) */
        body.light-mode {
            background-color: #ffffff;
            color: #1a1a1a;
        }
        body.light-mode .project-section {
            color: #1a1a1a;
        }
        body.light-mode .project-title,
        body.light-mode .read-more-btn {
             color: #1a1a1a;
             border-color: #1a1a1a;
        }
        body.light-mode .read-more-btn:hover {
            color: white;
        }
        body.light-mode .project-number {
            color: rgba(0, 0, 0, 0.08);
        }
        body.light-mode .project-tags .tag {
            background: rgba(var(--accent-coral-rgb), 0.2);
            color: #1a1a1a;
        }
        body.light-mode .modal-content {
            background: #f8f9fa;
            color: #1a1a1a;
            box-shadow: 0 0 80px rgba(var(--accent-coral-rgb), 0.3);
        }
        body.light-mode .modal-close {
            color: #1a1a1a;
            text-shadow: none;
        }
        body.light-mode .modal-close:hover {
            color: var(--accent-coral);
        }
        body.light-mode .modal-title {
            text-shadow: none;
        }
        body.light-mode .modal-description {
            color: #333;
        }
        body.light-mode .modal-features li {
            background: rgba(var(--accent-coral-rgb), 0.1);
            border-color: rgba(var(--accent-coral-rgb), 0.3);
            color: #1a1a1a;
        }
        body.light-mode .modal-cta .live-site-btn {
             background: linear-gradient(45deg, var(--accent-coral), var(--accent-neon-pink));
             box-shadow: 0 8px 25px rgba(var(--accent-coral-rgb), 0.5);
        }
        body.light-mode .modal-cta .live-site-btn:hover {
            box-shadow: 0 10px 30px rgba(var(--accent-coral-rgb), 0.7);
        }
        body.light-mode .modal-image {
            border-color: rgba(var(--accent-coral-rgb), 0.5);
        }


        /* Global Overlays */
        .geometric-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(var(--accent-neon-blue-rgb), 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(var(--accent-neon-blue-rgb), 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
            opacity: 0.1;
            animation: fadePulse 10s infinite alternate;
            pointer-events: none;
        }

        .page-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.3;
            filter: blur(1px);
            pointer-events: none;
        }
        .page-particle {
            position: absolute;
            background: var(--accent-neon-blue);
            animation: float 10s infinite ease-in-out;
            border-radius: 50%;
        }
        .page-particle.type2 {
            background: var(--accent-neon-pink);
            animation: float 12s infinite reverse ease-in-out;
        }

        /* Dark Mode Toggle */
        .dark-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--accent-coral);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1001;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(var(--accent-coral-rgb), 0.3);
        }

        .dark-toggle:hover {
            transform: scale(1.1) rotate(180deg);
            box-shadow: 0 6px 20px rgba(var(--accent-coral-rgb), 0.4);
        }

        /* Horizontal Scroll Wrapper (GSAP controlled) */
        .horizontal-scroll-wrapper {
            display: flex;
            width: fit-content;
            height: 100vh;
        }

        /* Project Section Styles */
        .project-section {
            flex: 0 0 100vw; /* Each section takes full viewport width */
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 5%;
            position: relative;
            overflow: hidden;
            transition: background-color 0.5s ease;
            box-sizing: border-box;
        }

        .project-number {
            position: absolute;
            top: 50%;
            right: 0;
            transform: translateY(-50%) translateX(20%);
            font-size: clamp(10rem, 25vw, 20rem);
            font-weight: 900;
            color: rgba(var(--text-light), 0.08);
            line-height: 1;
            z-index: 0;
            user-select: none;
            pointer-events: none;
        }

        .project-content-left {
            flex: 0 0 45%;
            max-width: 700px;
            text-align: left;
            z-index: 1;
            padding-right: 20px;
        }

        .project-tags {
            margin-bottom: 1rem;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .project-tags .tag {
            display: inline-block;
            background: var(--accent-neon-blue);
            color: var(--text-light);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.8;
        }

        .project-title {
            font-size: clamp(3rem, 7vw, 6rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 2rem;
            color: var(--text-light);
        }

        .read-more-btn {
            background: none;
            border: 2px solid var(--text-light);
            color: var(--text-light);
            padding: 15px 30px;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .read-more-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--accent-coral);
            transition: left 0.3s ease-out;
            z-index: -1;
        }
        .read-more-btn:hover::before {
            left: 0;
        }
        .read-more-btn:hover {
            color: var(--text-light);
            border-color: var(--accent-coral);
            box-shadow: 0 0 15px rgba(var(--accent-coral-rgb), 0.5);
        }

        .project-media-right {
            flex: 0 0 50%;
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Styling for the SVG placehodler */
        .project-media-right svg {
            width: 100%;
            height: 100%;
            border-radius: 15px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
            filter: brightness(0.9);
            transition: filter 0.3s ease;
        }
        .project-media-right svg:hover {
            filter: brightness(1);
        }


        /* Fixed Bottom Navigation */
        .fixed-bottom-nav {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .view-all-cases-btn {
            background: var(--accent-coral);
            color: var(--text-light);
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            box-shadow: 0 5px 15px rgba(var(--accent-coral-rgb), 0.5);
        }
        .view-all-cases-btn:hover {
            background: var(--accent-neon-blue);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(var(--accent-neon-blue-rgb), 0.7);
        }

        .scroll-dots {
            display: flex;
            gap: 10px;
        }
        .scroll-dot {
            width: 12px;
            height: 12px;
            background-color: rgba(var(--text-light), 0.3);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }
        .scroll-dot.active {
            background-color: var(--accent-coral);
            transform: scale(1.2);
        }

        /* Project Detail Modal */
        .project-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(15px);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 2000;
        }

        .project-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--bg-dark-secondary);
            border-radius: 15px;
            max-width: 950px;
            padding: 3.5rem;
            box-shadow: 0 0 80px rgba(var(--accent-neon-blue-rgb), 0.7);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            width: 90%;
            overflow-y: auto;
            max-height: 90vh;
            color: var(--text-light);
        }

        .project-modal.active .modal-content {
            transform: scale(1);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2.5rem;
            color: var(--text-light);
            text-shadow: 0 0 15px rgba(var(--accent-neon-pink-rgb), 0.8);
            cursor: pointer;
            transition: transform 0.2s ease, color 0.2s ease;
        }
        .modal-close:hover {
            transform: rotate(90deg);
            color: var(--accent-coral);
        }

        /* Styling for the SVG placeholder in modal */
        .modal-svg-placeholder {
            width: 100%;
            height: 300px; /* Fixed height for modal SVG */
            border-radius: 10px;
            border: 3px solid var(--accent-neon-blue);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--text-muted);
        }

        .modal-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            color: var(--accent-coral);
            text-shadow: 0 0 15px rgba(var(--accent-coral-rgb), 0.7);
            margin-bottom: 1rem;
        }

        .modal-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
        }

        .modal-description {
            font-size: 1.2rem;
            color: var(--text-light);
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .modal-features {
            list-style: none;
            padding: 0;
            margin-bottom: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .modal-features li {
            background: rgba(var(--accent-purple-rgb), 0.2);
            border: 1px solid rgba(var(--accent-purple-rgb), 0.5);
            padding: 12px 18px;
            border-radius: 5px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-features li i {
            color: var(--accent-teal);
        }

        .modal-cta .live-site-btn {
            display: inline-block;
            background: linear-gradient(45deg, var(--accent-neon-blue), var(--accent-purple));
            color: white;
            padding: 15px 35px;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: 700;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(var(--accent-neon-blue-rgb), 0.7);
        }
        .modal-cta .live-site-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(var(--accent-neon-blue-rgb), 0.9);
        }

        /* Responsive Design */
        @media (max-width: 992px) { /* Tablet and smaller */
            .project-section {
                flex-direction: column;
                justify-content: center;
                padding-top: 80px;
                text-align: center;
                height: auto;
                min-height: 100vh;
            }

            .project-content-left {
                flex: 1 1 auto;
                max-width: 90%;
                padding-right: 0;
                margin-bottom: 30px;
            }

            .project-media-right {
                flex: 1 1 auto;
                width: 90%;
                height: 50vh;
            }

            .project-number {
                position: static;
                transform: none;
                margin-bottom: 20px;
                font-size: clamp(8rem, 20vw, 15rem);
            }
            .project-title {
                font-size: clamp(2.5rem, 8vw, 4rem);
            }

            .fixed-bottom-nav {
                flex-direction: column;
                bottom: 20px;
                gap: 15px;
            }
            .scroll-dots {
                display: none;
            }

            .modal-content {
                padding: 2rem;
            }
            .modal-title {
                font-size: clamp(2rem, 6vw, 3rem);
            }
            .modal-close {
                font-size: 2rem;
                top: 15px;
                right: 15px;
            }
            .modal-features {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(10deg); }
        }
        @keyframes fadePulse {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.25; }
        }
    </style>
</head>
<body>
    <button class="dark-toggle" id="darkToggle" aria-label="Toggle dark mode">ðŸŒ“</button>

    <div class="page-particles" id="page-particles-1"></div>
    <div class="page-particles" id="page-particles-2"></div>
    <div class="geometric-overlay"></div>

    <div class="horizontal-scroll-wrapper" id="horizontalScrollWrapper">
        </div>

    <div class="fixed-bottom-nav">
        <button class="view-all-cases-btn">
            <i class="fas fa-th-large"></i> VIEW ALL CASES
        </button>
        <div class="scroll-dots" id="scrollDots">
            </div>
    </div>

    <div class="project-modal" id="projectModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <div class="modal-svg-placeholder" id="modalImage">
                <!-- SVG content will be dynamically inserted here -->
            </div>
            <h3 class="modal-title" id="modalTitle"></h3>
            <div class="modal-meta" id="modalMeta">
                <span>Client: <strong id="modalClient"></strong></span>
                <span>Category: <strong id="modalCategory"></strong></span>
            </div>
            <p class="modal-description" id="modalDescription"></p>
            <h4>Key Features:</h4>
            <ul class="modal-features" id="modalFeatures">
            </ul>
            <div class="modal-cta">
                <a href="#" target="_blank" class="live-site-btn" id="modalLiveSiteBtn">Visit Live Site</a>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rellax/1.12.1/rellax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollToPlugin.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init({
                duration: 1000,
                once: true,
                mirror: false,
            });

            // --- Dark Mode Toggle ---
            const darkToggle = document.getElementById('darkToggle');
            if (darkToggle) {
                darkToggle.addEventListener('click', () => {
                    document.body.classList.toggle('light-mode');
                    const isLightMode = document.body.classList.contains('light-mode');
                    localStorage.setItem('theme', isLightMode ? 'light' : 'dark');
                    darkToggle.textContent = isLightMode ? 'â˜€ï¸' : 'ï¿½';
                });

                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'light') {
                    document.body.classList.add('light-mode');
                    darkToggle.textContent = 'â˜€ï¸';
                } else {
                    darkToggle.textContent = 'ðŸŒ“';
                }
            }

            // --- Global Page Particles ---
            const particlesContainer1 = document.getElementById('page-particles-1');
            const particlesContainer2 = document.getElementById('page-particles-2');

            function createPageParticle(container, typeClass = '') {
                if (!container) return;
                const particle = document.createElement('div');
                particle.classList.add('page-particle');
                if (typeClass) particle.classList.add(typeClass);

                const size = Math.random() * 15 + 5;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.animationDuration = `${Math.random() * 15 + 10}s`;
                particle.style.animationDelay = `${Math.random() * 8}s`;
                particle.style.opacity = `${Math.random() * 0.1 + 0.05}`;

                container.appendChild(particle);

                setTimeout(() => {
                    particle.remove();
                }, parseFloat(particle.style.animationDuration) * 1000 + parseFloat(particle.style.animationDelay) * 1000 + 1000);
            }

            if (particlesContainer1) {
                for (let i = 0; i < 20; i++) {
                    createPageParticle(particlesContainer1, 'type1');
                    createPageParticle(particlesContainer2, 'type2');
                }
                setInterval(() => createPageParticle(particlesContainer1, 'type1'), 1500);
                setInterval(() => createPageParticle(particlesContainer2, 'type2'), 2000);
            }

            // --- Project Data ---
            const projects = [
                {
                    id: 1,
                    number: '01',
                    title: 'Interactive E-commerce Platform',
                    client: 'FashionNova',
                    category: 'Web Development',
                    tags: ['E-COMMERCE', 'UI/UX', 'REACT', 'NODE.JS'],
                    description: 'Developed a high-performance e-commerce website with a focus on intuitive user experience, personalized recommendations, and seamless checkout processes. Integrated modern UI/UX principles for an engaging shopping journey.',
                    svgMedia: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="60" rx="5" fill="url(#grad1)"/>
                                    <circle cx="50" cy="50" r="15" fill="url(#grad2)"/>
                                    <path d="M30 40 L40 30 L60 70 L70 60 L30 40 Z" fill="url(#grad3)"/>
                                    <defs>
                                        <linearGradient id="grad1" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#ff6b6b"/>
                                            <stop offset="100%" stop-color="#ff8e8e"/>
                                        </linearGradient>
                                        <linearGradient id="grad2" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#4ecdc4"/>
                                            <stop offset="100%" stop-color="#7b68ee"/>
                                        </linearGradient>
                                        <linearGradient id="grad3" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#00ffff"/>
                                            <stop offset="100%" stop-color="#e040fb"/>
                                        </linearGradient>
                                    </defs>
                                </svg>`,
                    modalSvg: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="5" y="10" width="90" height="80" rx="8" fill="url(#modalGrad1)"/>
                                <circle cx="25" cy="30" r="10" fill="url(#modalGrad2)"/>
                                <circle cx="75" cy="70" r="12" fill="url(#modalGrad3)"/>
                                <path d="M20 50 Q50 20 80 50 T20 50 Z" stroke="url(#modalGrad2)" stroke-width="2" fill="none"/>
                                <text x="50" y="55" font-family="Arial" font-size="12" fill="#fff" text-anchor="middle">E-COMMERCE</text>
                                <defs>
                                    <linearGradient id="modalGrad1" x1="0" y1="0" x2="100" y2="100">
                                        <stop offset="0%" stop-color="#1a1a1a"/>
                                        <stop offset="100%" stop-color="#2a2a2a"/>
                                    </linearGradient>
                                    <linearGradient id="modalGrad2" x1="0" y1="0" x2="100" y2="100">
                                        <stop offset="0%" stop-color="#ff6b6b"/>
                                        <stop offset="100%" stop-color="#ff8e8e"/>
                                    </linearGradient>
                                    <linearGradient id="modalGrad3" x1="0" y1="0" x2="100" y2="100">
                                        <stop offset="0%" stop-color="#4ecdc4"/>
                                        <stop offset="100%" stop-color="#00ffff"/>
                                    </linearGradient>
                                </defs>
                                </svg>`,
                    features: [
                        'Responsive Design',
                        'Personalized Dashboards',
                        'Secure Payment Gateways',
                        'Inventory Management',
                        'Analytics Integration',
                        'Scalable Architecture'
                    ],
                    liveSite: 'https://www.example.com/ecommerce'
                },
                {
                    id: 2,
                    number: '02',
                    title: 'SaaS Dashboard Redesign',
                    client: 'DataFlow Solutions',
                    category: 'UI/UX Design',
                    tags: ['SAAS', 'DASHBOARD', 'UI/UX', 'DATA VISUALIZATION'],
                    description: 'Transformed a complex SaaS dashboard into an intuitive and visually appealing interface. Focused on data clarity, user-friendly navigation, and customizable widgets to enhance productivity for enterprise users.',
                    svgMedia: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="15" y="15" width="70" height="70" rx="10" fill="url(#grad4)"/>
                                    <rect x="25" y="30" width="20" height="40" rx="3" fill="url(#grad5)"/>
                                    <rect x="55" y="40" width="20" height="30" rx="3" fill="url(#grad6)"/>
                                    <circle cx="50" cy="85" r="5" fill="#fff"/>
                                    <defs>
                                        <linearGradient id="grad4" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#2c3e50"/>
                                            <stop offset="100%" stop-color="#3498db"/>
                                        </linearGradient>
                                        <linearGradient id="grad5" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#e040fb"/>
                                            <stop offset="100%" stop-color="#7b68ee"/>
                                        </linearGradient>
                                        <linearGradient id="grad6" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#ff6b6b"/>
                                            <stop offset="100%" stop-color="#4ecdc4"/>
                                        </linearGradient>
                                    </defs>
                                </svg>`,
                    modalSvg: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="10" y="10" width="80" height="80" rx="10" fill="#1a1a1a"/>
                                <rect x="20" y="20" width="20" height="50" rx="3" fill="#ff6b6b"/>
                                <rect x="45" y="30" width="20" height="40" rx="3" fill="#4ecdc4"/>
                                <rect x="70" y="40" width="15" height="30" rx="3" fill="#00ffff"/>
                                <circle cx="50" cy="85" r="5" fill="#fff"/>
                                <text x="50" y="55" font-family="Arial" font-size="12" fill="#fff" text-anchor="middle">DASHBOARD</text>
                                </svg>`,
                    features: [
                        'Customizable Widgets',
                        'Real-time Data Updates',
                        'Improved Accessibility',
                        'Intuitive Navigation',
                        'Cross-device Compatibility',
                        'User Feedback Loop'
                    ],
                    liveSite: 'https://www.example.com/saas-dashboard'
                },
                {
                    id: 3,
                    number: '03',
                    title: 'Mobile Banking Application',
                    client: 'SecureBank',
                    category: 'Mobile App Development',
                    tags: ['MOBILE APP', 'FINTECH', 'SECURITY', 'IOS/ANDROID'],
                    description: 'Developed a secure and feature-rich mobile banking application for iOS and Android. Focused on robust security protocols, seamless transaction experiences, and personalized financial insights for users.',
                    svgMedia: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="30" y="10" width="40" height="80" rx="8" fill="url(#grad7)"/>
                                    <rect x="35" y="15" width="30" height="5" rx="2" fill="#fff"/>
                                    <circle cx="50" cy="80" r="4" fill="#fff"/>
                                    <path d="M35 30 L65 30 L60 60 L40 60 L35 30 Z" fill="url(#grad8)"/>
                                    <defs>
                                        <linearGradient id="grad7" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#1a0d30"/>
                                            <stop offset="100%" stop-color="#0a0a0a"/>
                                        </linearGradient>
                                        <linearGradient id="grad8" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#e040fb"/>
                                            <stop offset="100%" stop-color="#ff6b6b"/>
                                        </linearGradient>
                                    </defs>
                                </svg>`,
                    modalSvg: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="30" y="5" width="40" height="90" rx="10" fill="#0a0a0a"/>
                                <rect x="35" y="10" width="30" height="5" rx="2" fill="#ff6b6b"/>
                                <circle cx="50" cy="85" r="4" fill="#ff6b6b"/>
                                <path d="M40 30 C30 40, 30 60, 40 70 L60 70 C70 60, 70 40, 60 30 Z" fill="#4ecdc4"/>
                                <text x="50" y="55" font-family="Arial" font-size="10" fill="#fff" text-anchor="middle">BANKING</text>
                                </svg>`,
                    features: [
                        'Biometric Authentication',
                        'Fund Transfers',
                        'Bill Pay Integration',
                        'Spending Analytics',
                        'Push Notifications',
                        'Customer Support Chat'
                    ],
                    liveSite: 'https://www.example.com/mobile-banking'
                },
                 {
                    id: 4,
                    number: '04',
                    title: 'Brand Identity & Marketing Site',
                    client: 'Artisan Crafts Co.',
                    category: 'Branding & Web Design',
                    tags: ['BRANDING', 'WEBSITE DESIGN', 'CONTENT STRATEGY', 'SEO'],
                    description: 'Developed a cohesive brand identity and a stunning marketing website for a new artisan craft business. Focused on storytelling, visual appeal, and SEO optimization to attract and engage their target audience.',
                    svgMedia: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="20" y="20" width="60" height="60" rx="10" fill="url(#grad9)"/>
                                    <path d="M40 30 L50 70 L60 30 L40 30 Z" fill="url(#grad10)"/>
                                    <defs>
                                        <linearGradient id="grad9" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#ff6b6b"/>
                                            <stop offset="100%" stop-color="#7b68ee"/>
                                        </linearGradient>
                                        <linearGradient id="grad10" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#fff"/>
                                            <stop offset="100%" stop-color="#ccc"/>
                                        </linearGradient>
                                    </defs>
                                </svg>`,
                    modalSvg: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="15" y="15" width="70" height="70" rx="10" fill="#1a1a1a"/>
                                <path d="M30 40 L50 20 L70 40 L50 80 Z" fill="#ff6b6b"/>
                                <text x="50" y="55" font-family="Arial" font-size="12" fill="#fff" text-anchor="middle">BRANDING</text>
                                </svg>`,
                    features: [
                        'Logo Design',
                        'Brand Guidelines',
                        'CMS Integration',
                        'Blog Section',
                        'SEO Audit & Implementation',
                        'Performance Optimization'
                    ],
                    liveSite: 'https://www.example.com/artisan-crafts'
                },
                {
                    id: 5,
                    number: '05',
                    title: 'Educational Portal Development',
                    client: 'EduConnect',
                    category: 'E-Learning Solution',
                    tags: ['E-LEARNING', 'CUSTOM LMS', 'VIDEO STREAMING', 'ACCESSIBILITY'],
                    description: 'Built a comprehensive e-learning portal with a custom Learning Management System (LMS). Features include interactive courses, live video streaming, progress tracking, and robust accessibility features for diverse learners.',
                    svgMedia: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="50" cy="40" r="25" fill="url(#grad11)"/>
                                    <rect x="25" y="60" width="50" height="20" rx="5" fill="url(#grad12)"/>
                                    <path d="M40 70 L50 80 L60 70" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
                                    <defs>
                                        <linearGradient id="grad11" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#4ecdc4"/>
                                            <stop offset="100%" stop-color="#00ffff"/>
                                        </linearGradient>
                                        <linearGradient id="grad12" x1="0" y1="0" x2="100" y2="100">
                                            <stop offset="0%" stop-color="#e040fb"/>
                                            <stop offset="100%" stop-color="#7b68ee"/>
                                        </linearGradient>
                                    </defs>
                                </svg>`,
                    modalSvg: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="50" cy="40" r="30" fill="#0a0a0a"/>
                                <rect x="30" y="65" width="40" height="20" rx="5" fill="#ff6b6b"/>
                                <path d="M40 50 L50 40 L60 50 L50 60 Z" fill="#4ecdc4"/>
                                <text x="50" y="50" font-family="Arial" font-size="10" fill="#fff" text-anchor="middle">LEARN</text>
                                </svg>`,
                    features: [
                        'Course Creation Tools',
                        'Student Progress Tracking',
                        'Interactive Quizzes',
                        'Discussion Forums',
                        'Multi-language Support',
                        'Admin Dashboard'
                    ],
                    liveSite: 'https://www.example.com/educonnect'
                }
            ];

            const horizontalScrollWrapper = document.getElementById('horizontalScrollWrapper');
            const scrollDotsContainer = document.getElementById('scrollDots');

            // --- Populate Sections and Dots ---
            function populateProjects() {
                horizontalScrollWrapper.innerHTML = ''; // Clear existing
                scrollDotsContainer.innerHTML = ''; // Clear existing dots

                projects.forEach((project, index) => {
                    // Determine background color based on index
                    let sectionBgVar;
                    if (index % 3 === 0) {
                        sectionBgVar = '--bg-dark-primary'; // #0a0a0a
                    } else if (index % 3 === 1) {
                        sectionBgVar = '--accent-coral'; // #ff6b6b
                    } else { // index % 3 === 2
                        sectionBgVar = '--bg-dark-secondary'; // #1a1a1a
                    }

                    // Create project section
                    const section = document.createElement('section');
                    section.classList.add('project-section');
                    section.dataset.projectId = project.id;
                    section.dataset.backgroundColor = sectionBgVar;

                    const mediaHtml = `<div class="svg-placeholder">${project.svgMedia}</div>`;

                    section.innerHTML = `
                        <div class="project-number">${project.number}</div>
                        <div class="project-content-left">
                            <div class="project-tags">
                                ${project.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </div>
                            <h1 class="project-title">${project.title}</h1>
                            <button class="read-more-btn" data-project-id="${project.id}">READ MORE -></button>
                        </div>
                        <div class="project-media-right">
                            ${mediaHtml}
                        </div>
                    `;
                    horizontalScrollWrapper.appendChild(section);

                    // Create scroll dot
                    const dot = document.createElement('div');
                    dot.classList.add('scroll-dot');
                    dot.dataset.sectionIndex = index;
                    dot.addEventListener('click', () => goToSection(index));
                    scrollDotsContainer.appendChild(dot);
                });
            }

            populateProjects(); // Call on load

            // --- GSAP ScrollTrigger for Horizontal Sections ---
            gsap.registerPlugin(ScrollTrigger, ScrollToPlugin); // Register ScrollToPlugin

            const sections = gsap.utils.toArray(".project-section");
            const totalWidth = sections.reduce((acc, section) => acc + section.offsetWidth, 0);

            // Create horizontal scroll animation
            const scrollTween = gsap.to(sections, {
                x: () => -(totalWidth - window.innerWidth),
                ease: "none",
                scrollTrigger: {
                    trigger: horizontalScrollWrapper,
                    pin: true,
                    scrub: 1,
                    end: () => `+=${totalWidth - window.innerWidth}`,
                    onUpdate: (self) => {
                        const progress = self.progress;
                        const activeIndex = Math.round(progress * (sections.length - 1));
                        updateActiveDot(activeIndex);

                        const currentSection = sections[activeIndex];
                        const bgColorVar = currentSection.dataset.backgroundColor;
                        if (bgColorVar) {
                            document.body.style.backgroundColor = `var(${bgColorVar})`;
                        }
                    },
                    onRefresh: (self) => { // Recalculate end value on refresh (e.g., window resize)
                        self.end = `+=${totalWidth - window.innerWidth}`;
                    }
                }
            });

            // Parallax for project numbers
            sections.forEach((section) => {
                const projectNumber = section.querySelector('.project-number');
                if (projectNumber) {
                    gsap.to(projectNumber, {
                        xPercent: 100,
                        ease: "none",
                        scrollTrigger: {
                            trigger: section,
                            containerAnimation: scrollTween, // Link to the horizontal scroll tween
                            start: "left right",
                            end: "right left",
                            scrub: true,
                        }
                    });
                }
            });

            // Function to jump to a specific section
            let activeDotIndex = 0;
            function goToSection(index) {
                if (index === activeDotIndex) return;

                gsap.to(window, {
                    scrollTo: {
                        x: sections[index].offsetLeft,
                        autoKill: false,
                        // Ensure it scrolls the main document if pinned, or the container if not
                        // For a pinned element, scrollTo:x directly targets its position on the pinned viewport.
                    },
                    duration: 1,
                    ease: "power2.inOut"
                });
                activeDotIndex = index;
            }

            function updateActiveDot(activeIndex) {
                document.querySelectorAll('.scroll-dot').forEach((dot, index) => {
                    if (index === activeIndex) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                });
            }

            // Initial active dot update
            updateActiveDot(0);


            // --- Project Modal Logic ---
            const projectModal = document.getElementById('projectModal');
            const modalCloseBtn = document.getElementById('modalClose');
            const modalTitle = document.getElementById('modalTitle');
            const modalClient = document.getElementById('modalClient');
            const modalCategory = document.getElementById('modalCategory');
            const modalDescription = document.getElementById('modalDescription');
            const modalFeatures = document.getElementById('modalFeatures');
            const modalLiveSiteBtn = document.getElementById('modalLiveSiteBtn');
            const modalImageContainer = document.getElementById('modalImage'); // Changed to container div

            // Open modal when a "READ MORE" button is clicked
            document.querySelectorAll('.read-more-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    const projectId = parseInt(event.target.dataset.projectId);
                    const project = projects.find(p => p.id === projectId);

                    if (project) {
                        modalImageContainer.innerHTML = project.modalSvg; // Insert SVG directly
                        modalTitle.textContent = project.title;
                        modalClient.textContent = project.client;
                        modalCategory.textContent = project.category;
                        modalDescription.textContent = project.description;
                        modalLiveSiteBtn.href = project.liveSite;

                        modalFeatures.innerHTML = ''; // Clear previous features
                        project.features.forEach(feature => {
                            const li = document.createElement('li');
                            li.innerHTML = `<i class="fas fa-check-circle"></i> ${feature}`;
                            modalFeatures.appendChild(li);
                        });

                        projectModal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    }
                });
            });

            // Close modal
            modalCloseBtn.addEventListener('click', () => {
                projectModal.classList.remove('active');
                document.body.style.overflow = '';
            });

            // Close modal when clicking outside content
            projectModal.addEventListener('click', (event) => {
                if (event.target === projectModal) {
                    projectModal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });

            // "View All Cases" button functionality (can navigate to a different page or show a grid)
            document.querySelector('.view-all-cases-btn').addEventListener('click', () => {
                // In a real application, you might navigate to a full grid page here
                // For this example, we'll just show a message.
                // Using a custom modal/message box is recommended over alert()
                const messageBox = document.createElement('div');
                messageBox.style.cssText = `
                    position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                    background-color: #ff6b6b; color: white; padding: 20px; border-radius: 10px;
                    z-index: 9999; font-family: 'Segoe UI'; font-size: 1.2rem;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                    opacity: 0; transition: opacity 0.3s ease;
                `;
                messageBox.textContent = 'This button would typically navigate to a full portfolio grid page!';
                document.body.appendChild(messageBox);

                setTimeout(() => {
                    messageBox.style.opacity = '1';
                }, 10);

                setTimeout(() => {
                    messageBox.style.opacity = '0';
                    messageBox.addEventListener('transitionend', () => messageBox.remove());
                }, 3000);
            });
        });
    </script>
</body>
</html>